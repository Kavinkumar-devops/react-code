<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript">
        (function() {
            // Capture the current path, search parameters, and hash
            var pathname = window.location.pathname;
            var search = window.location.search;
            var hash = window.location.hash;

            // Check if the current URL has already been redirected to avoid a loop
            if (!window.location.href.includes('redirected')) {
                // Append a unique parameter to mark the redirect
                var redirectUrl = pathname + search + hash + (search ? '&' : '?') + 'redirected=true';

                // Use History API to change the URL without reloading the page
                window.history.replaceState(null, '', redirectUrl);

                // Reload the page once to ensure the SPA router takes control
                window.location.replace(redirectUrl);
            } else {
                // If the URL contains 'redirected', do not redirect again
                // This allows the SPA to handle the route correctly
                console.log('Redirect prevented: Already redirected once.');
            }
        })();
    </script>
</head>
<body>
    Redirecting...
</body>
</html>
